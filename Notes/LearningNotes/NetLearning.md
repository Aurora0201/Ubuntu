[TOC]

# 计算机网络

## 1.计算机网络入门

### 1.三种交换方式

**电路交换**

+ 电话交换机接通电话线的方式称为电路交换
+ 从通信资源分配的角度，**交换**就是按照某种分配方式动态的分配传输路线的资源
+ 电路交换三步骤：
    + 建立连接（分配通信资源）
    + 通话（传输数据）
    + 释放连接（归还通信资源）



**分组交换**

+ 分组交换的发送方将完整的数据进行拆分变成一个个包，并加上首部，通过路由器转发出去
+ 路由器，缓存分组，转发分组
+ 接收方，收集分组，去掉首部，并将分组重新拼合成完整的数据



**报文交换**

+ 将完整的数据层层转发直达终点



**三种交换方式的对比**

+ 电路交换
    + 电路交换首先要建立连接，连接建立后就是发送方和接收方直接进行数据交换
    + 通信过程中信道会一直占用，通信完成释放连接
    + 采用比特流直达终点的方式
+ 报文交换
    + 将报文不断进行存储转发
    + 要求中间节点缓存较大
+ 分组交换
    + 不需要建立连接，直接就将分组发送出去
    + 中间节点在发送分组的同时还可以接收缓存新到的分组
    + 效率较高



**三种方式优缺点**

+ 电路交换
    + 通信时延小，有序传输，没有冲突，控制简单
    + 建立连接时间长，线路独占，效率低，灵活性差
+ 报文交换
    + 无需建立连接，动态分配线路，提高可靠性和利用率
    + 引起转发时延，需要较大缓存，传输额外的信息量
+ 分组交换
    + 无需建立连接，线路利用率高，出错时重新发送的代价较小
    + 引起转发时延，需要传输额外的信息，存在丢失分组，失序，若采用虚电路交换则存在虚电路释放等问题



**分组交换的两种方式**

分组交换其实有两种实现方式：

+ 虚电路连接（弃用）
    + **虚电路建立连接**：虚电路的所有分组要通过的一系列链路与路由器，网络层也为沿着该路径的每条链路确定一个VC号，在沿着路径的每台路由器的转发表中增加一表项
    + **数据传送**:一旦创建了虚电路，分组就可以开始沿该虚电路流动了
    + **虚电路拆除**：当发送方(或接收方)通知网络层它想终止该虚电路时，就启动这个过程
+ 数据报网络
    + 在数据报网络中，每当一个端系统要发送分组时，它就为该分组加上目的地端系统的地 址，然后将该分组推进网络中



**虚电路和数据报网络的由来**

+ 虚电路的概念来源于电话领域，它采用了真正的电路，使用VC号转发分组。

+ 因特网作为一种数据报网络，是由互连计算机的需求发展而来的，使用IP地址转发分组



### 2.计算机网络的定义

计算机网络主要由一些**通用的，可编程的硬件互联而成的**，这些硬并非专门用来实现某一目的（传送数据）。这些硬件能够用来传送多种不同的数据，**并支持广泛的和日益增长的应用**



### 3.计算机网络的分类

**根据交换技术**

+ 电路交换网络
+ 报文交换网络
+ 分组交换网络



**根据传输介质**

+ 有线网络
+ 无线网络



**根据范围覆盖**

+ WAN 广域网
+ LAN 局域网
+ PAN 个域网



### 4.计算机网络性能指标

**计算机中数据量的单位**

计算机中数据量的单位有两种

+ bit：比特，缩写b，1kb = 10^3^b = 1000b
+ Byte：字节，缩写B，1KB = 2^10^B = 1024B
+ 1 Byte = 8 bit



**速率**

连接在计算机网络上的主机在数字信道中的比特传输速率，也称**比特率，数据率**

+ bit/s(b/s, bps)
+ kb/s = 10^3^b/s



**带宽**

带宽在不同的系统中有不同的意义

+ 在模拟信号系统中：代表信号所包含的不同频率的频率范围
+ 在计算机网络中：代表网络通信线路的通信能力，因此网络带宽表示单位时间内从网络的某一点到另一点所能通过的最高数据率 



**吞吐量**

+ 吞吐量代表单位时间内通过某个信道的数据量
+ 吞吐量受带宽或者额定速率的限制



**时延**

时延一般分为以下三种

+ 发送时延：在发送方产生的时延，分组长度/发送速率
+ 传播时延：在信道中的产生的时延，信道长度/电磁波传送速率
+ 处理时延：一般不方便计算

在实际问题中，在忽略处理时延的前提下，我们需要对具体问题具体分析，**不能想当然的认为发送时延或者处理时延占主导**



**时延带宽积**

+ **传播时延**和**带宽**的乘积
+ 时延带宽积又称以**比特为单位的链路长度**



**往返时间RTT**

+ 双向交互一次所需的时间



**利用率**

+ 可以用简单的公式来表示当前时延*D*，网络空闲时延D~0~和利用率*U*之间的关系$D = \frac{D_0}{1-U}$
+ 从上面的公式可以看出，信道利用率越高时延越高，所以利用率并不是越高也好，一般不会超过50%



**丢包率**

+ 丢包率就是分组的丢失率，就是在传输过程中丢失的分组占总分组数量的比例
+ 分组丢失主要有两种情况
    + 分组在传输过程中发送误码，被节点丢弃
    + 节点缓存已满，新来的分组被丢弃



## 2.计算机网络体系结构

### 1.计算机网络体系结构

计算机网络在实际中进行了分层，**实际上**的计算机体系结构是*TCP/IP*体系结构，结构如下
