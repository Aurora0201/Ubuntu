[TOC]

# Linux

## 1.Linux入门

### 1.vim的使用

**模式介绍**

vim中有三个模式：

+ 一般模式
+ 命令模式
+ 编辑模式



**常用快捷键**

+ 复制粘贴
    + 一般模式下*[rows]yy*表示复制*rows*行
    + 一般模式下*p*表示粘贴复制的内容
+ 删除
    + 一般模式下*[rows]dd*删除*rows*行，缺省删除当前行
    + 一般模式下*D*表示删除行中的内容，行保留
+ 撤销
    + 一般模式下*u*撤销前一步的操作
+ 到达首行和尾行
    + 一般模式下*gg*到达首行
    + 一般模式下*G*到达尾行
+ 设置行号
    + 命令模式下*:set nu*设置行号
    + 命令模式下*:set nonu*取消行号
+ 移动光标
    + 一般模式下*\[rows\](shtft + g)*表示移动到*rows*行
+ 查找
    + 一般模式下*/word*查找单词，*n*寻找下一个



### 2.用户管理

**Linux中的用户管理**

+ Linux中的每一个用户都必须提供账户和密码，每个用户只能像管理员申请账号和密码
+ *root*用户是Linux系统创建时默认的系统管理员，由*root*来创建普通用户



**添加用户**

+ 添加用户的命令是`useradd [username]`
+ 执行上面的命令后，会创建一个用户*username*，同时在*home/*目录下创建用户的根目录，跟用户名相同
+ 在Linux中每个用户至少都属于一个组，如果在创建时不指定组，则创建一个与用户名同名的组，并将用户添加到组中



**设置用户密码**

+ 设置密码的指令`passwd [username]`
+ 执行指令后会进入修改密码的步骤，密码会经过二次确认，同时也需要符合一定的复杂度



**删除用户**

+ 删除用户的指令是`userdel -r [username]`，`-r`删除用户的同时删除用户目录



**查看用户信息**

+ 查看用户信息的指令`id [username]`
+ 执行指令后会出现用户的一些信息，其中*uid=1000*表示用户的id，*gid=1000*表示用户的主组，**注意主组一旦确定就不能更改，所以如果需要特殊分配就需要在创建用户时提前分配**，*组=(group, group, ...)*则表示用户所在的附加组，一个用户可以有很多的附加组



**切换用户**

+ 切换用户的命令`su [username]`
+ 执行命令后进入指定的用户，从高权限切换到低权限的账号不用输密码



### 3.组管理

**组的概念**

+ Linux中的组相当于类的概念，把多个有共性的用户放到一个组中进行管理，每一个用户至少属于一个组



**添加组**

+ 添加组的命令为`groupadd [groupname]`



**删除组**

+ 删除组的指令为`groupdel [groupname]`



**添加用户和删除用户**

+ 添加指令和删除指令都为`gpasswd -a [username] [groupname]`



**创建用户时添加组**

+ 指令为`useradd -g [groupname] [username]`



### 4.查看帮助命令

查看帮助命令的方式有两种：

+ man [command]
+ help [commad]



### 5.目录

**查看目录**

+ `ls`查看当前目录下的子目录和文件
+ `ll`以列表形式查看当前目录下的子目录和文件
+ `ls -a`显示隐藏的文件和目录
+ `ls -al`以列表形式显示隐藏的文件和目录



**创建目录**

+ 使用`mkdir [dirname]`来创建目录，但是只能在已经存在的文件夹下创建
+ 使用`mkdir -p [dirname]`递归的创建多级目录，即使前面的目录不存在也会先创建前面的目录



**创建文件**

+ 创建一个文件可以使用`vi [filename]`
+ 创建一个或者多个文件可以使用`touch [filename1] [filename2] ...`



**复制文件**

+ 使用命令`cp [source] [dest]`将一个文件复制到目标地点
+ 注意如果使用`cp`复制有文件的文件夹是不行的，所以我们要加一个参数`cp -r [source] [dest]`，`-r`表示递归，或者说文件下的所有东西



### 6.系统命令

**>命令**

+ 把一个查看命令的输出结果重定向到一个文件中使用`>`，比如说`ls > ret.txt`，就会将`ls`的结果写入*ret.txt*文件中
+ 如果文件不存在则新建一个文件，如果存在则覆盖
+ 想要追加则使用`>>`就会在原有的内容上追加



**搜索命令**

搜索命令有两种选择：

+ `find`
    + `find [dir] [RE]`在dir目录下搜索符合的文件
+ `locate`



 **搜索命令的过滤**

+ 使用`| grep [condition]`来过滤搜索
+ 比如说我们想要寻找txt文件中包含*Beijing*的行，使用命令`cat test.txt | grep beijing`，就会显示出符合条件的行，如果说想要忽略大小写的匹配，就加上参数`grep -i [condition]`



### 7.文件目录与组

在文件系统的视角下，所有的文件和目录都是属于某个组的，默认情况下，文件所有者的主组就是文件的组，对于权限的管理，则是有三个视角：

+ 文件所有者，拥有文件的所有权限
+ 文件所有者同组者
+ 其他用户



**修改文件所有者和组**

+ `chown -R [newuser]:[newgroup]`，`-R`递归的修改目录中的文件，可以只改所有者不改组
+ `chgrp -R [newgroup]`只修改组