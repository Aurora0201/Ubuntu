<html>
    <head>
        <script>
            function showViewLiveResultButton() {
                // 如果当前文档是否在一个 frame 中，则
                // 确保让用户在新的标签页或窗口中打开它。
                // 否则，此示例将无法正常演示。
                const p = document.querySelector("p");
                p.textContent = "";
                const button = document.createElement("button");
                button.textContent = "查看上面示例代码的渲染结果";
                p.append(button);
                button.addEventListener('click', () => window.open(location.href));
                return true;
            }

            if (!showViewLiveResultButton()) {
                function typedArrayToURL(typedArray, mimeType) {
                    return URL.createObjectURL(new Blob([typedArray.buffer],
                        {type: mimeType}))
                }
                const bytes = new Uint8Array(59);

                for (let i = 0; i < 59; i++) {
                    bytes[i] = 32 + i;
                }

                const url = typedArrayToURL(bytes, 'text/plain');

                const link = document.createElement('a');
                link.href = url;
                link.innerText = '打开这个数组的 URL';

                document.body.appendChild(link);
            }
        </script>
    </head>
    <body>
        <h2>Hello World!</h2>

    </body>
</html>
